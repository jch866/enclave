<ion-view view-title="文章详情">
    <!--     <ion-nav-buttons side="left">
      <span class="iconfont icon-back fontSize backBtn" onclick="javascript:history.go(-1)"></span>
    </ion-nav-buttons> -->
    <ion-nav-buttons side="right">
        <span class="iconfont icon-share fontSize" ng-click="share()" id="btn"></span>
        <span class="iconfont icon-comment fontSize" ng-click="pubComment()"></span>
        <span ng-class="{true:'icon-shoucanghou comment-red', false:'icon-shoucang'}[flag.isAdd]" class="iconfont fontSize" ng-model="flag.isAdd" ng-click="addFavorites()"></span>
    </ion-nav-buttons>
    <ion-content>
        <div class="articleWrap">
            <div class="articlePic" id="articleCon">
                <!-- ng-bind-html="html | to_trusted" -->
                <!-- <div class="articlePic" on-render-finish>-->
                <div ng-if="hasMedia">
                    <div id="art_media"></div>
                </div>
                <img ng-if="!hasMedia" alt="" ng-src="{{imgUrl+item.art_thumb}}">
            </div>
            <div class="contentArticle">
                <h1>{{item.art_title}}</h1>
                <div class="author">{{item.art_editor}} - 
                    <time>{{item.art_time*1000 | date:"yyyy年MM月dd日"}}</time>
                </div>
                <!-- {{item.art_time | toDate}} -->
                <div class="articleCon" ng-bind-html="item.art_content"></div>
            </div>
        </div>
        <div class="comments">
            <h3>- 评论 ({{currentArticleComTotal}}) -  </h3>
            <div class="noComments">
                <span ng-if="!hasComment" ng-bind="noComment"></span>
            </div>
            <ul ng-if="hasComment">
            <li ng-repeat="comment in comments">
                    <div class="avatar"><img src="img/mike.png" ng-src="{{comment.avatar}}" alt=""></div>
                    <div class="detail">
                        <div class="title">
                            <time>{{comment.publishTime*1000 | date:"yyyy-MM-dd HH:mm"}}</time>{{comment.nickname}}</div>
                        <p  ng-click="replyCom()">{{comment.content}}</p>
                        <div class="like"><i class="iconfont icon-like" ng-click="getLike(comment)"></i>
                        {{comment.likecount}}</div>
                        <div class="commentsBox" ng-hide="{{comment.comments.length==0}}"> 
                            <div class="singleCom" ng-repeat="reply in comment.comments">
                                <div class="title">{{reply.nickname}}<span> -- {{reply.publishTime*1000 | date:"yyyy-MM-dd HH:mm"}}</span></div>
                                    <p>{{reply.content}}</p>
                                </div>
                        </div> 
                    </div>
                </li>
               
                 </ul>
        </div>
    </ion-content>
</ion-view>
